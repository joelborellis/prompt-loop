what's up everybody david shapiro here with a uh one of the rare two video days um this always happens i finish a project and then i um and then my brain just says okay next so i fit i've released a symphony of thought a couple days ago and my brain's like all right what's next what's next what's next so let's go i'm revisiting auto muse so um auto muse is one of my most popular um uh projects four months ago and it was an attempt to write a full-length novel with fine tuning now what that did was auto muse was like write a chunk write another chunk and they were kind of interlocking so it's like a chain right so like you know take the last bit we wrote and add a little bit more and then take the last bit of that one and add a little bit more and then summarize as you go it worked okay but it got real repetitive um and that happens with fine tuning and so i've been studying and working on uh cognitive architectures and simulation so for instance if you check in my repositories and you look at the simulation service and the nexus so these are two of the critical services for running an artificial general intelligence um in a sandbox basically a simulated world and the simulation which i have a video on that um it's able to run a text-based simulation which is basically just kind of telling you a story and then you save that in the nexus but i realized hold on a second a text-based simulation is just a story why don't i try and do that and use this method to write a full length novel so here we go this gives rise to auto muse 3. so let me show you um well first let me just show it to you running so that way you can see what what it does so the first thing that it does it summarizes the story up to this point it sets the scene does some dialogue you see like there's people talking i've been thinking about moving out of the city the friends chat and laugh it and it kind of advances from there sequentially and what it does is it's summarizing everything as it's going um let's see and this is still repetitive but um it's it's getting it's getting better so this will this will you know everything i do is iterative um yep so there we go they're talking um yeah it's it's pretty it's pretty repetitive um and so one of the reasons that it's repetitive is because i kind of toned it down um oh yeah so they're just having a nice uh nice conversation okay so uh all right so now that you've seen it running where it just kind of goes in these cycles of summary scene dialog event summary scene dialog event so basically it's running each of those as an individual thread so let me show you how it's doing it now so here's the simulation script so starting from the top while true so it's an infinite loop first thing that it does is load the whole story so where's the story saved the story is saved in the logs file so it's all saved as a sequential chronologically sequential set of logs and this is what i do for moragi for my artificial general intelligence too and that's all a story is it's a sequential a chronologically sequential series of events and so then what it does is it summarizes it um so it'll it'll take the whole thing generate a summary um it'll save the site it'll save the summary um and then it'll it will say okay given everything that's going on give me the scene right just just set the scene and that'll give you a nice pretty little scene um so here like the coffee shop is cozy and inviting um so that gives you a little bit of pros right um and then once you get the scene set um we go through the characters and so here here's one thing that i did for the characters was there's um there here's here's the prompt that it uses so you give it a character profile the summary and the recent events um and that's what it uses to go from there and you can check what these look like under the gpd gpt3 logs folder so here here's an example of that prompt where it says imagine the next character action uh or dialogue for jane smith um here's your character profile so this is an agent model um summary and then so the summary gives you the whole background of what's happened um so then jane smith next one action or dialogue i don't know gene says i haven't really thought about it much i guess i'm just getting uh doing one doing things one day at a time um so there you have it uh it's pretty straightforward um yeah uh that's the character part so yes um here's the summarize prompt here's the scene prompt so it just says here's the full summary and here's the recent events and then i ask it to set the scene here's the character action and then finally there's the event um so the event is so it says given the following story imagine a rarity event to advance the plot describe the event in one or two sentences so here's the summary and here's all the recent logs and then it reiterates the instructions because the instruct series does really well if you have the instructions like an oreo sandwich so it's like you give it the instructions once and then you give it the the meat and then you give it the instructions again um yeah so there's that um right all right so we've got a little bit of story going again it needs a little bit of help um i had to tone it down because oh yeah so here's here's the loop where it does it gives you the character uh stuff um and then finally it does the event and then the then the loop continues so i have the rarities up here um and i had common likely unlikely interesting exciting funny stressful irritating ordinary extraordinary and shocking okay so on a previous iteration the shocking event was that the coffee shop got blown up and they all died uh so obviously i didn't know what to do with that and then um the last iteration that i ran just before i started recording was that um one of the people had to leave and it didn't know how to handle that either so they just kept going over and over and over again just saying like okay i'll talk to you later bye okay i'll talk to you later bye and it didn't actually break so there's still a little bit of trouble with the with the scene having some forward momentum but this took me a couple hours to do um and the idea is that you're kind of separating out the character threads from the scene and the plot so for anyone who has studied um the art of story writing there's three primary components there's setting uh character and plot so setting is the world that's where it's happening character that's the people and plot is the events what's happening around it so those are the three primary ingredients and so i figured if you run each of those as an individual simulation it might work so far it's it's yeah meh um all right but so we've got an example here so let me just do cls there we go python compile story open ai is not defined what do you mean it's not defined all right so let me show you what i was working on so basically the idea is you run the simulation and then you end up with a whole bunch of log files and as i showed you the logs are so the gpt3 logs these are the raw log files here and then the logs are here where it's just this is the actual like story where it's stored um so here's an example of what it looks like um actually here i'll save this as a backup story backup um so this is this was a previous iteration i think oh yeah this is the one where it got bombed so you can check it'll be story underscore backup.txt where you can see it like it got bombed and they're all sad and crying but they're also dead at the same time so it's a little little loopy wasn't quite there um and there's all there's also all kinds of other little things of repetition so you see where it says like ahmed twice um so i'm working on fixing those little bugs and stuff this is the problem when you get recursive stuff you see it jane smith jane smith jane smith minor problems anyways so the compile story what this does is it takes all the logs compiles them together like this but then what it does is it breaks it up into into each recursive chunk and it writes it as actual prose and it's actually not too bad at that so let me show you where i've gotten so far with that so python compile story oh whoops i opened it and then forgot to add open ai sorry hold on import open ai and then i think from time import time and sleep i think that's all i need to add and it should be good to go yeah okay so this should take just a second and basically what it's doing is it's reading those logs and then it's going to convert them to pros here you go so you see where it's um it's giving you some some some actual pros moving out of the city and it's it's being repetitive again yeah well of course the source material was repetitive so no surprise there um yep there's no point in getting too far ahead of ourselves yeah okay so then if we come back here and we do come to the story so here we've actually got some got some some some pros you know the coffee shop is cozy and inviting um with a cozy fireplace and comfortable chairs this is obviously not the best this is not like particularly compelling right this is not um why is my mind blanking i cannot think of a single famous author right now um yeah okay my brain is clearly off anyways this is kind of like run-of-the-mill stuff so it needs it still needs a little bit of work but the idea is here where it's there's kind of this background simulation that's running the environment and then there's other individual simulations running the characters um so this is auto muse three i'm gonna keep working on this uh well i'm not gonna make any promises what i what usually happens is i get these things to a certain point and then i abandon them because i come back a few months later and do something far more sophisticated so no promises but this is a this is an interesting direction to go in so i think that's all for today um yeah thanks for watching talk to you later bye