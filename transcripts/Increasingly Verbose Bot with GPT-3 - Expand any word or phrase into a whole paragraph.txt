good morning everybody david shapiro here with another video so i recently did a decreasingly verbose thing um which is a really it's called a recursive summarizer so let me show you what this does real quick um recursive summarizer uh i've got another video of this so i'm not going to go into too much detail if you want to see how this works um you can you can do it but basically all it does is it breaks up any file into chunks and then makes those chunks smaller and then sticks them back together i fed alice in wonderland into this and it got it down to this is the summary of alice in wonderland alice falls down a rabbit hole and has some adventures so i did that about four or five times and each chunk was smaller and smaller and this is the summary that it got it's just an iterative it's a recursive summarizer that's exactly what it says on the tin okay so with all that said um i got the idea to what if we do this in reverse what if we make things longer so enter in increasingly verbose so this is based on a subreddit which is a it's a meme subreddit and basically it's like um people people just keep adding stuff and making it longer so like in this case like our slash suicide by words kamikaze by qwerty death by diction unlive by literature um i don't know if that's technically increasingly verbose but it's increasingly grandiloquent um but yeah so anyways point being is that there's this like meme of like making things longer okay so i started experimenting with it um let me show you first the limitations so here's the original prompt um i worked on this prompt um this is like the fifth version and they all ended up with the same problem and that is that they would end up kind of maximizing out and not expanding further so i said like nihilism bad and then you just go and it says okay nihilism is bad for several reasons etc etc and even with the temperature higher um it kind of reaches a maximum limit um okay so we say nihilism bad i say expand on this so this is really great if you're trying to write a book or a paper on something and you just say take this idea and expand on it so it says like nihilism is bad for several reasons it leads to a sense of despair and hopelessness without something to believe in etc etc so then we put this in so we just recursively do it say okay then we'll do that again but you see nihilism is bad for several reasons for one it can lead to a sense of despair and hopelessness ah so here we go it did add a little bit more this time um but eventually what's going to happen well and so here's the thing um it changes based on topic because some topics it can expand on infinitely um and and it but sometimes it gets caught in this trap and sometimes it doesn't where it will just stop um okay so let's see if this one next one is any longer you see it's just kind of like repeating itself and then adding some to the end um all in all you see it's the same pattern over and over again and it looks like okay we've maxed them out we've maximized it out nihilism is harmful system of belief that should be avoided okay so it's just gonna stuck it's gonna get stuck repeating the same thing over and over again so i was like well that's no good i mean sure i started with two words nihilism bad and i ended up with you know three whole paragraphs right of elaboration but if you use your brain you can elaborate on this like talk about the history of nihilism talk about the history of it's you know the modern implications who have who has written about it so now i realized it was time to break this down into into smaller problems so um if you're familiar with my channel you know that one of the things that i research is cognition and so the reason one of the reasons that gpt3 gets frustrating to some people is because they think that a task even though you can describe it in one sentence it's actually still multiple cognitive tasks and so what i realized i had to do is i had to break this down into the cognitive subtasks because when you're rewriting something you're not just you're not just saying oh let me just keep typing no you have to brainstorm ideas about what to add so that's exactly what i did so let me copy this out just to save it for posterity's sake so you can see like this passage is the selection is 1574 characters and the output is um 1697 so it's a little bit longer but not much right and it's like but it's also following the same format it's like no we really want to like take it to the next level so it's like okay how do we take this to the next level still not bad we went from you know two words to three paragraphs pretty quick okay cool but like i want to i want to start with a premise like one sentence and i want to write an entire book okay i want to write an entire book from one premise so let's go let's see if we can do it okay so what i did was i started with a brainstorm passage or a brainstorm prompt sorry so then i was like all right so we're breaking this down into two cognitive tasks so we take the passage let's go back and get the passage so we got this one tada and you can see it like okay that 600 characters is only 379 tokens that's not that big a deal especially because and i'll show you in my script where i break these chunks into smaller smaller chunks so even if it gets to like 5 000 tokens or 50 000 tokens it's still going to do it piece by piece by piece okay so let me show you what this prompt does brainstorm some ideas about how to expand the following passage brainstorming is something that gpt3 is phenomenal at so let's see what ideas it comes up with and i'm going to add that so it knows nihilism can lead to a sense of apathy and detachment nihilism can lead to a sense of insecurity and mental instability nihilism can lead to a feeling of emptiness and purpose purposelessness okay that's okay but it's not quite good enough brainstorm many ideas um uh let's see let's see many different ideas so we're using two adjectives here many and different so that will prime it to say okay we're gonna be divergent um and actually let's add divergent ideas to expand because like okay if it's just gonna give me three things and the temperature is already at one like that's not good enough that's not good enough there we go um okay examples of how nihilism has led to harmful consequences in individuals or society yes we got it because that is a great topic of conversation to expand upon ways in which avoiding nihilism can benefit both the individual and society also good all right perfect so i like this new prompt so let's go back to our brainstorm prompt and we'll um clean that up so we'll do passage so this is the token that i used to just do the find and replace deferrgent ideas to expand all right so then we'll do that got it okay so then we just feed all this back in so let's go ahead and grab well first let's take the expansion passage so it says lengthen the following passage use the following ideas to expand and elaborate on the passage on the following passage i have followings too many times okay so we give the passage and then ideas and then expanded version so i'm not sure if ideas or passage should be first we can play with that when i when i tested this um a minute ago it was it seemed like it was just fine like it kind of doesn't matter um which which order you use which order of operations okay so let's grab our passage which is this one all right so we've got our three paragraphs and then let's grab our ideas um wait did i save them oh crap go here we go okay need the ideas let's copy these out and so basically i can just take the contents of both of these so it's like take the output of this one um the input and output of this prompt and then put them together in a new prompt so that's called prompt chaining in case you haven't heard that before um okay so then we take this let's go to our expand passage or expand prompt sorry all right and then we grab the passage and we populate it here and then we go to the ideas get it here and um so one thing that i found is that when you turn the temperature up especially for when you're asking it to be creative you get much better results and then the maximum length of 2500 tokens let's oh oh yeah see it's warning me okay that's too far okay so let's just say 3 000 tokens okay expanded version let's see nihilism is bad for several reasons this will take a minute to finish so let's um i'm going to drink some tea wallets or coffee rather away it goes and what we'll do is we'll compare um oh no it looks like it didn't expand on it interesting um okay so let's uh let's see let's see how long that was okay so this is 1992 characters the expanded version and the previous version is drumroll please 1697. okay so it did add it it made it a little bit longer but you know it's only a couple like sentences here and there all right so we got to do a little bit more prompt engineering um let's see because i'm saying lengthen the following passage so like just the goal make it longer so it knows up front use the ideas um use the ideas to expand and elaborate on the passage uh let's see ideas um what happens if we do re like rewritten and expanded version oh someone asked i don't remember where it was on reddit or the community or youtube comment they asked why i tend to do all caps and the reason is because lower case or normal case words are one token in gpt3 and caps versions are another token and so by by it means the same thing to us semantically but to gpt3 it signals oh this is like a title block or something um and so because it's a different set of tokens like expanded versus expanded those are different tokens inside of gpt3 so it looks different to the machine so there is a very specific reason that i do that and because normal pros is going to be normal case but like instructions or demarcations those are caps case because it's going to look different to the machine okay so let's do rewritten and expanded version um let's see uh let's see uh let's see expanded version with um elucidation so the more oops the more fancy words you use the more you kind of activate different circuits within gpt3's brain so like lengthen elucidate expand elaborate um and we already used expand so let's use expounded version oops not don't save this is not the text document okay let's see how that goes okay still didn't add too much let's see how long this is compared to the previous output okay so this 1992 it's actually shorter okay well it did add a little bit um i wonder if we should just say like instead of rewriting it we should just say like add these new topics um ideas uh let's see uh um okay so we got the idea so we're saying length in it so rather than rewrite it we don't want it to rewrite let's let's what if we just say like add to it um let's see not length in the following passage let's say continue continue the following passage use the ideas use the following ideas to elaborate to expand and elaborate on the passage okay continued passage with new ideas that might be what we're looking for so rather than rewriting it because there's no i guess yeah in order for it to be more efficient this makes more sense anyways i don't know why i was thinking just rewrite the whole thing maybe because i was stuck in the idea of summarizing where it's like okay you take thing a and make it into thing b that's nearly identical but when you're adding something when it's generative it looks like it's still just rewriting it hmm okay so that maybe it's not me maybe it's this fine tune model let's try an older instruct model so davinci instruct beta maximum length that's fine we'll take that lower to 1500 that should be good it's just rewriting it and now it's copying itself this is kind of frustrating this is way harder than i thought it was going to be okay all right so let's move the ideas above the original passage so that it has the ideas first oh maybe that's what it is maybe it's an order of operations because um as gpt3 is reading the input because it reads it one character or rather one token at a time so if we start with the ideas first it's going to be like oh let's write this and then it sees what it wrote last time it'll say wait there's some stuff missing from this because we want in terms of the internal representation we want this stuff to be more important okay so let's see if that works oh good so you see okay it's integrating these ideas first okay maybe it was just a matter of order of operations um let's see uh i'm not i'm like okay and it integrated this so putting the ideas first helped but it only added a couple of things right it just kind of changed a little bit of the tone of the first thing um finally nine yeah okay let's say next passage um write another passage to follow the first use the following ideas to expand and elaborate let's just say okay so ideas whoops did i delete it okay first passage so this rather that rather than framing it as like a rewrite job um we'll use kind of the inchworm method that i use for my novel generation where it's like okay this is what you've got now add more okay let's see if this works oh good okay here we go good good good good um so it continued it but let's see how much it mentioned the individual okay it mentioned the individual once in the subsequent one something larger than oneself okay it did integrate those ideas it just added one one sentence at a time okay this is good enough i'm still not quite happy with it but yeah what can you do um all right so let's go back to our prompt so we'll do the ideas first because that seems to help performance and then we'll do first passage and then we'll just do next passage okay so this should work so now we've got the brainstorm and the expand we'll see um it looks like it's going to be pretty slow in terms of adding stuff but now let's update our script because we're going to need the chunk um yeah we're going to need the chunk and so then the expansion equals gpd3 and this is a really simple script all it does is open the brainstorm prompt get the ideas so you get the ideas and then open the expand prompt and get the expansion and so then what we'll do is the result append will be chunk plus space plus expansion because each chunk should end in a period um so like and then the expansion will will add to it okay all right i think this is this is good um i started so the one i was testing with earlier was it just said eat bug so we'll start with that one again because it was pretty funny um it ended up concluding that like bugs were a great source of food and it was fit for kings and queens and all sorts of fun stuff okay so now that we've done some prompt engineering we'll start with the input of eat bug and we'll delete this all right so now you can see the whole process we'll close the original prompt because we're not using that anymore and then we will go and how long is this video it's already 20 minutes yeah i thought that this was just going to be a quick like hey guys look what i did but no it's never that easy is it um okay so we got the the thing here input output uh python increasingly verbose and i probably messed something up but let's see what happens thinking thinking okay so the input was eat bug the output is eat bug catching the bug is easy simply put some food out and wait for it to come to you once you have your bug you need to cook it this can be done in a number of ways but some people prefer to simply fry their bugs in a hot pan okay so clearly it added to it it's good the formatting looks right um let me show you so i record every interaction with gpt3 um so let me show you what that looks like so the second to last one eat bug divergent ideas to expand responses cook the bug catch the bug grow the bug sell the bug eat bugs and it's gross bugs are yummy bugs are nutritious bugs are a delicacy okay so let's see if it succeeded in integrating that okay talked about cooking it eating bugs is gross to some people but others find them yummy bugs are also quite nutritious okay so it integrated all of those ideas um why not give bugs a try i think the only thing it didn't do is sell them oh no you can't sell yeah okay so it integrated every idea and added that as a passage so now let's do this recursively let's take that output set it as the new input and let's run it again let's see if we can write a whole book about eating bugs increasingly verbose to the wind for the win to the rescue into the shadow realm all the means um hmm it looks like it just started repeating itself again let's see because this was the new section maybe what i'll do is i'll add like a new line after it yeah so you can put some food out and it just repeated itself damn you all right let's see what ideas it came up with and see why that didn't work so that should be this one different ways to catch a bug how to store bugs once you've caught them other methods of cooking bugs what kind of bugs are best to eat how to start your own bug eating business so those are good ideas why didn't it why didn't you use them so we'll go back here go to the very end yeah because look here here's the ideas hmm i am disappointed i might have to pause this because this is not this is not going as well as i thought it would be going that's very sad um okay how long is this video so far 22 minutes let's give it a little bit longer y'all are usually okay with 20 30 to 40 minute long videos let's see if we can overcome this problem okay so the expand um write another passage to follow the first use the following ideas to expand and elaborate um let's see let's say explore and elaborate on the ideas um listed below next passage based on above ideas okay let's see if that works um actually here let's no let's just delete that one because that was getting really repetitive okay so let's try this again increasingly verbose.pie for the win let's go oh there we go that looks good output okay why not give bugs a try and then it adds this so yeah i think what i'll do is i'll add a double new line between those so that so that each end put an output like there's demarcation so let me fix that real quick so rather than just chunk with a space we'll do slash n slash n there are a variety of bugs you can eat but not all of them are created equal some bugs are better for you than others and some simply taste better if you're looking for the best of both worlds here are some of the best bugs to eat grasshoppers are a great source of protein and they taste pretty good too if you're looking for a nutritious bug to add to your diet grasshoppers are a great choice crickets are another popular choice for bug eaters they're high in protein and low in fat making them a healthy option they also have a mild nutty flavor that some people find quite pleasant if you're looking for a bug that's both nutritious and delicious mealworms what am i a mouse they're high in protein and fiber and have a mildly sweet flavor no matter what kind of bug you choose to eat make sure you get the uh okay so why not give them a try so it's it's going to be a little bit repetitive so we're probably if we want to write a whole book with this we're going to need to um clean this up but that's fine at least it'll generate a lot of content all right so let's do this recursively i think we overcame that last barrier increasingly verbose let's go hmm it looks like okay it condensed the first one i wonder why it did that i probably have something that caused it to do that okay so look for bugs in dark moist places this is okay but it wrote it as a list and that's not what i want uh okay well we got we're off to a decent enough start um this looks like it's not any much better than the original idea which was just to um here so let me comment out this stuff and we'll just do um the first one which was just i just told gpt3 to expand on it um yeah so we'll just duplicate all this yeah and so therefore each expansion will be separated out um yeah okay so let me just let me just show you what the original did because we're not getting we're not getting the results that i want eat bug clear the output save that all right so there's basically two modes that this script operates in which is like break it into two cognitive tasks or do another or do a um or do it as one go we're kind of getting there it's generating good ideas but it looks like in order to expand on them i might also need to say like expand on each individual idea um we'll see it doesn't it it might take some fine tuning or something to do um but yeah okay so let's just let me show you the original process so you can see like it's actually not much better um oops eat bug you won't even taste the difference okay so that worked um let's do make the following passage longer yep add lots of detail and new ideas rewritten longer version okay so now okay so that's that's working so we'll take this recursively do it and we'll you'll see that like you basically get the same results just with the one one stage so it looks like in order to brainstorm something and keep expanding on it it's going to take a few more steps because we only got to about three paragraphs um okay this is good so the input was this guy which is 371 characters long um you know you may think eating bugs sound gross but bugs is really good for you output did you know that eating bugs is really good for you you may think it sounds gross but they're packed okay so that's not that's not too bad um all right so let's try this again eventually so that we we did the same thing with recursive summarization where eventually it just won't summarize it any further um and it seems like gpt3 will do the same thing where there's a limit to how much it will expand on each idea so it might be that in order to expand on each idea we need smaller chunks because what i do here is i break it into chunks of that are 3000 words long or less or characters i think that's characters um so it might be that we need like smaller chunks like take a hundred hundred words um and expand each of those um like sentences basically okay so now we've got this as an input which was 673 characters and now it is 1500 okay this is doing all right um let's keep going maybe maybe i was wrong maybe my intuition about breaking this task up was was not correct um because the the original prompt seems like it's doing really well so let me just show you the the prompt that it's using right now make the following passage longer because you can see it's just using prompt.txt so prompt.text is right here so it's just recursively feeding into itself um yep so yeah let's uh run it again let's we're going to take this until it stops eventually we'll get to a a place where it probably won't expand it any further but remember it just started with eat bug so you just take one idea and expand it into a whole paragraph and there's still value in that right i was really ambitious when i said like let's get it to an entire book okay so that's that's it we've gone from two words um you know and like eat bugs so that's seven characters to fifteen hundred characters so that's a factor of um seven divided by fifteen uh fifty-four oh wait now that's to go the other way 1554 divided by seven so we made it 222 times longer than it was originally um so that's a pretty good amount of expansion i think i'm satisfied with that um okay cool well i'll leave the other prompts up there in case anyone wants to play with them and i'll also leave the script where it's got this other one so i'll just um add a comment here like original method single stage cognitive task works okay can take a phrase um can let's say transform a phrase into a paragraph or so um uh let's see um two stage method works a little bit better but not really great am disappoint i think i misspelled disappoint is that right okay all right so we'll leave it we'll leave it as that get status get add all git commit am all done get push remember kids make sure to use this to cheat on your uh on on your papers actually no don't do that um this is entirely unethical and actually every time that um professors see this stuff they're like we're gonna have to change the way we grade stuff um all right i think that's it thanks for watching like and subscribe