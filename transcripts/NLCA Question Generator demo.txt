hey everybody david shapiro here for another video about natural language cognitive architecture um today i've got a kind of a special treat for you this is a project that i started working on a while ago but finally got back to it is called a question generator so why would you want to generate questions uh well let me start by just kind of showing you where i started from so i've got 55 000 um contexts and so a context some of this is going to be from the movie database a movie dialogue database some of it is also going to be from reddit all of this data was available on on kaggle there's a couple other sources that i got from but most of it is from kaggle so these are open source data sets and these are just different contexts right okay so i've got context why would you want to ask questions so questions are really important because questions form the basis of pretty much all intelligence and let me explain what i mean by that so intelligence is in part the ability and the desire to understand well in order to understand something you need to ask questions about it now for the most part our questions are unarticulated they're completely internal they're not in words but you still have a sense of curiosity right our brains generate questions even if we don't speak them and so those internal questions is what our sense of curiosity is our desire to understand to un to to take what we know about something and engage with a new situation a new scenario or a new context and ask questions so what i did was i took about 1200 of these different contexts i've got 55 000 to go from and then what i did was i used gpt3 davinci to generate questions and so these questions can then be used for any number of things if you're using this this this model this fine-tuned model for a chat bot just asking questions can be a tremendously valuable um tool right so like let's say you're having a discussion with someone about a project or a personal issue just the ability to for something to ask intelligent questions is super valuable so you could embed you could bake this directly into a chat bot for instance and then you have the ability to to just ask questions and respond so it's the simplest use another thing you can do is use those questions to feed them into a question answering tool which uh qa is something else that i've been working on it's a central uh question answering is a is a major part of of nowka of natural language cognitive architecture so that'll be one of the next things that i focus on is okay now that i can generate questions next i've got to be able to answer questions right anyways so once you once you can ask the question what where do you send that question to you can send it to a qa service you can send it to a chat output you can you can search the internet you can use those questions to just search the internet because things like google with bert built in google has a really good ability to answer questions now one problem that i haven't worked out though is you see these questions without the context they don't make much sense what are the two types of analysis two types of analysis for what so that's one thing that i haven't quite worked out is how to get the questions to actually have some of the context built in so that's a little bit of a problem anyways let's see so let's cover the context covered the questions oh yeah let me just go through some of the files okay so i've got the context stored here i've got the questions stored here oh and all this code is public now by the way um and then i had some some data prep scripts that i wrote to kind of format the context as you see them now they came from different sources let's see here's the raw data that i got so it's all in there i was trying another experiment where i was summarizing things but i'm not as interested in summarization because eh everyone's doing summarization i don't need to reinvent the wheel there uh let's see okay so how did i generate the questions um i wrote a few different prompts and really what i found was that this prompt was the best all i did was i told gbd3 i said write a list of the most important and salient questions an observer would ask about the following passage so this particular prompt was engineered over quite a few iterations the reason that it says that an observer would ask the reason that it has to say that is because without that context um gpt3 would sometimes try and and take part in the conversation like say why are you doing this to me and i'm like no that you're not actually participating in this conversation let's look at this situation from a third party perspective so by by using the word observer i told gpt3 i said okay what are the most important questions an observer would ask about this situation and that generated very consistent um question output so this is this is how i generated the questions so basically all i did was i took those contexts so for instance um that the news article context whoops where did it go i can't click on it because the recorder is behind it um anyways so i asked um the i transposed the text section here with any number of contexts whether it was dialogue news reddit posts so on and so forth um and then i said generate you know spit out some questions and then it spit out some questions and i showed the example right here so this is the output this is an example of the output from from reddit or i'm sorry not reddit from gpt3 i did a little bit of cleanup you notice that there's no numbering or anything there is some inconsistency you see how the first questions they're not capitalized that's okay it's not a big deal um this looks like it was a technical question about virtual machines and linux and authentication so that's that's cool that also shows that that gpt3 has a tremendous amount of knowledge it knows about tech support questions so anyways just by asking the right questions you can get a tremendous amount of value and then what you do with those questions is up to you um i've got everything documented let me show you so here's the repo you can you can come right here you can clone it yourself um i've got all the information here uh with at the very top of the readme i kind of have an explanation as to you know what you do this what you do with this oh most important thing duh um the the the training data is right here it's ready to go um it's 2.2 megabytes it's what's called json l which means json lines it's just json but instead of instead of being formatted as a list you assume that it's a list let me show you what that means so just edit with notepad so you see every line has one prompt and one completion and that's it so it's just a key value pair two key value pairs um and that is how it knows uh how the training data is used um let's see i also wrote a quick script um called fine tune dot pi that just has a couple of helper functions um let's see so i wrote a thing to help upload the file list the file for the purpose you just put in um fine tune um let's see fine tune the model list your fine tunes show the fine tune events and get your fine tuned model again just a couple of quick helper functions the the training data is right here it's ready to go you can use it just clone it down and you're ready to go i've got a i've got a little little tutorial right here the only thing that you need to make sure you do is add um the uh let's see where is it open a open ai api key dot text put your key in there um all of my scripts use that and it's added to the get ignore so it won't clone up to the repo um let's see i know i'm going super fast oh yeah so finally here's an example i wrote this tiny little context you can imagine um this going to a group chat right this was i kind of adopted the persona of like a teenage girl asking for help on the internet um so this is this is you know it's two sentences and this was the output that the fine-tuned model generated so it generated a dozen and a half questions about this situation and you can imagine that these these questions for for any number of people whether you're trying to help this girl understand um or you're her friend and or maybe you're a parent and you don't know the whole situation or if you're an agi agent and you have a record of text messages with this girl right um you could then cert use these questions to search those text messages to then create a better response and have a more human-like conversation so anyways there's a lot of things that you can use a question generator for and i hope that i hope that you find some use in it and yeah that's about it enjoy