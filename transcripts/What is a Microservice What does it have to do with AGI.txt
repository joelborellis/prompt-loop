morning everybody david shapiro here um today we are going to go over microservices so i posted a question on my youtube channel um asking if people wanted to learn about microservices because i realized this is something i've been going on about lately and uh everyone has been here for gpt3 and uh you might not know what a micro service is so without further ado here we go what the is microservice i don't care about getting demonetized and why is dave obsessed with them the short version of a microservice is that you it's when you break software into independent chunks so the old school way of building software was that you'd have a monolithic application where all the software is put together in the same executable file or in the same server and so on and this works up to a certain point but as you can imagine once you get bigger it's really difficult to run and so then what you do is you break all the parts of that software down into smaller chunks and then you have them communicate with each other like independent units or teams so monolithic versus microservices there is a few steps in between but this is where we started and this is where we're at uh okay but why the primary reason is that microservices are easier to build and maintain it's a simpler architecture so rather than have one big thing that has all these internal parts that have to communicate and be fine-tuned and if one part breaks it can make something over here break by decoupling all that it is a simpler architecture it's more like a web and also if one component is faulting you can take that component out fix it look at the communication that it has with other components and you can see exactly where in the network you have problems another principle of microservices architecture is that it's loosely coupled meaning that if this service blows up because its database blows up the whole the rest of the application might be okay another key advantage of microservices is that you know you as one human cannot understand the entirety of a huge platform like amazon you can however understand one microservice or actually several microservices generally speaking a scrum team will be responsible for three to seven microservices and so you have these smaller components that one human or one team is able to fully understand and master whereas you cannot have that in a super huge monolithic thing another thing is that it is much more dynamic and flexible and can evolve over time which in today's world where you know amazon and and netflix and facebook and whoever else are always adding new services and features that flexibility is critical when you adopt a microservices architecture okay a little bit of background who when where um so microservices architecture was pioneered by amazon in a big way they didn't invent it but um once the amazon platform got too big circa 2005 i think they started breaking it down into into smaller components so really it was a matter of necessity they said this is unmanageable we need we need something more more modular now everyone uses it um pretty much if you're doing software development today it's going to be in microservices um like there are there are stuff there's stuff on on aws and azure and stuff that allows you to just run code and containers and stuff and so it's all everything is containerized every you even even have serverless code where you just send a piece of code to the cloud it executes the code and sends back the result so you don't even need a container like so we're getting even more distributed it's like nano services microservices really took off around 2010 that's when aws services really started becoming popular although again they were available before that some of the key benefits uh you can have you can use any language so say for instance you have one team that's writing a microservice in in c because it has to be fast and efficient and cut down so for instance a machine learning microservice might be written in c whereas you might have a web front end that's written in like react or uh something else right um what is it uh my brain isn't giving that's i haven't done any web i'm not a web developer and it's been a long time since i've worked with web developers anyways point being you can have different microservices that have different functions and you can use whatever language or technology stack is ideal for that particular function but then they communicate with a standard standardized communication thing such as excuse me a rest api or an amqp message broker you don't need to know what those are specifically just know that those are two primary ways that um different computer or software components can talk to each other so rather than everything being encapsulated it says hey i'm going to talk to you what's your phone number uh basically um it allows for continuous delivery so amazon never goes down right you might lose one one or two functions but it's always adding stuff and it's just bolting on new parts and so that that idea of bolting on new parts as you go which you can't do with your car by the way it takes a lot of work but that is how continuous delivery works it's modular it's scalable distributed development that's what i was talking about in the last slide um one principle that i've adopted and this comes from unix world which is every tool should do one thing and do it well so rather than have a big giant platform that you know is like okay and and this part's okay and this part's okay when with a micro service that what you should do is focus on doing that one task and do it perfectly um okay so you know what now you know what a micro service is in in general so let's talk about artificial cognition and microservices here is a basic diagram of the brain sorry it's not in english i wanted to make sure that i stuck with creative commons licensed images and this was the best one because it was that i could find because it was simple and color coded but the point being is that you can see that there are roughly 12 or so a dozen or so specific big big regions of the brain each of these regions has much smaller parts um that uh that have specialized purposes there's also different components that are not represented here so point being is this is the brain it's got a lot of specialized region so here's like the brain stem that comes up and then the first thing is the primitive reptile brain then the the mammalian midbrain and then the human neocortex which is the big part on top so it's like a stack right and then off to the side you've got the cerebellum which helps control i think that's a cerebellum i might be wrong i should know this i've read a lot of neuroscience thing is is i read the parts and then i don't look at the diagram um and so anyways uh this helps coordinate complex motions so for instance if you have damage to the cerebellum or degenerative disease your emotions will be more jerky and you'll have less fine motor control um alcoholism chronic alcoholism will actually shrink the cerebellum um as well and any number of other things um okay so you get the idea that the brain has specialized structures and regions okay the human brain has 12 main components and hundreds of some sub components all with different specializations that's what i was just saying excuse me i don't know why i'm stuffy okay so what brain disease and injury tells us the first thing is that the brain is not monolithic your brain can break in specific ways and you lose very specific functions rather than global loss so for instance if you get a lesion on one part of your brain it's not like you're five percent less overall you will have loss of function wherever that brain legion is um or if you get like a head injury from a car accident or whatever so there's a few examples acute amnesia where that has to do with injuries to the hippocampus i believe so that's a very so the hippocampus is um this guy right here i believe um hippocampus literally means seahorse and so it's it's the seahorse-shaped part of the brain so acute amnesia means you lose your episodic recall you lose the story of your life but you don't lose declarative recall you still remember facts you still remember how to speak right so you can lose a very specific part of your memory but not even all of your memory loss of speech and stroke so one thing that that often happens when people have a stroke is that you know you might end up paralyzed on one side of your body you might end up without speech or any number of things but that's because a stroke happens and it damages one part of your brain loss of motor function and degenerative disease and then uh one of the more interesting things is visual neglect and uh prosopagnosia so visual neglect is where you don't notice things on one side of your field of vision or you don't notice specific things because you can no longer identify them and then prosopagnosia is face blindness where you see a face and it does not connect to identity recognition you say okay i see a face i don't know who that is right and it doesn't matter if you've seen them every day of your life you don't recognize the face because the visual image visual information of that face does not connect to the the episodic recall or the id you know whatever parts of your brain identify that is a person that i know so there's communication between specialized regions um and damage to those specialized reason regions resembles a microservices architecture so for instance um you know like if you're on netflix or amazon light you know you might get a notice a pop-up that says like oh hey your queue isn't available right now but all this other stuff is still working right that's what i mean by like you can lose one part but the rest of it's still working um so all of this interconnectedness in the brain but also the brain regions can function quasi-independently so for instance if you have prosopagnosia face blindness you can still see but you can't recognize faces or specific there's other kinds of things where like you can't recognize an object i can't remember what it's called but there was um i was reading about a specific thing where it's like um people have lost the ability to recognize specific objects and like they can describe it but they're like uh i don't know what that is i don't know what it's for but then they take their eyes off of it and they can still use it because the functional part of their brain that says i know how to use this tool because i don't need to look at nail clippers to use them i can feel it and so they feel it and they're like oh i know what that is i know how to use it and even if they don't consciously know how to use it it's weird you read you read vs ramachandran he's got all kinds of stories like that so when you when you see how granular and modular the human brain is you realize huh that sounds a lot like a microservices architecture at least that's what i did i'm a systems engineer um professionally so i want to tease my audience is this a microservice network or a brain map i'm not going to tell you i'm just going to say do you think that this is a map of of communications between microservices or is this a a map of a brain or a brain region or what um so i'll let you guys figure it out tell me in the comments if uh if you know what this is um don't spoil it for anyone else okay so how do we copy the brain obviously uh the human brain is our best model for intelligence and so a lot of work is put into modeling the human brain as a way to get um super you know machine intelligence uh you know the biggest all the biggest things right now are deep learning neural networks right so it's no surprise to me that our smartest machines um or at least the ones that are most similar to human intelligence are neural networks so we're modeling we're copying the way that the human brain works at a microscopic level right so but what about what about the macroscopic level how about the whole brain right because we can have you can you can train a uh a virtual neural network or an artificial neural network that has the equivalent of like a thousand neurons or um let's see uh let's see gpt3 has 175 billion and it's roughly um a thousand per so gpt3 has 175 billion parameters but it takes roughly a thousand parameters to model one human neuron so that means gpt3 is the equivalent of about 175 million neurons um so and the human brain has like 90 billion so we're we're still a few orders of magnitude off excuse me um and so we've got the so there's there's two primary ways to model the brain there's the structural model which is where you copy the regions and connectivity of the brain so basically you're copying the organic structure and this is what you might have heard uh called whole brain simulation so um ib i think it was ibm was working on the connectome where it was modeling the connectivity of like the entire brain because that's still that's the structural model of saying hey let's go and just copy this but in virtual i don't think that's necessarily the best way to go so the other model is the functional model so the functional model is where you identify discrete functions of the brain such as memory learning visual processing morality whatever you say okay let's treat morality as its own function and then let's copy that and then you wire it all together like a software application specifically like a microservices application i take the functional model approach it is prohibitively expensive and difficult to map the entire brain and then to run a whole brain simulation i also don't know that it's ethical because here's the thing if you have if you put a brain in a jar and then you turn it on like it's not going to have any sensory input unless you fabricate sensory input and it's not going to have any sensory output unless you give it like a virtual body and what if that brain is sitting there panicking because it's like i don't have a body i don't know how to breathe right um they actually explored this in caprica so caprica was a uh was a show that was like a prequel to battlestar galactica and one of the guys uh like his daughter died in a terrorist attack and so then he re i think it was caprica he recreated her virtually but he forgot to give her her virtual like body sensations so like she couldn't breathe and she couldn't feel her her heartbeat and she's like why wha what's wrong with me why am i like this and that was a perfect example of why i think that whole brain simulation is probably super unethical um it's just a fictional example but still okay so we've got the structural model functional model i prefer the functional model because like we don't have to reconstruct a brain with 400 you know million or help 3.5 billion years of evolution we can just design something from the ground up that's better okay so microservices architecture of the bay of the brain like what like how would we do this what are some of the domains so some of the functional domains that you can think about are input so we've got sensations but for a machine you have the possibility of other kinds of input other than the senses that we have right so we evolved the two primary ways we take in information are sight and sound vast majority of the data we take in the information is through those senses but a machine can have apis it can talk to the web it can talk directly to other machines so you can have microservices that handle input and sensations um you have output right which is actions controlling peripheral devices speaking robotic arms that sort of thing then you can have executive functions so this is where we still model the functional aspect of the human brain so the human brain has the basal ganglia which is responsible for task selection and task switching and so this is when someone says like executive function this is this is kind of the fundamental part of what what they're talking about now damage to the prefrontal cortex can also um impair executive function but in terms of like what you're behaviorally doing right right like if you're listening to someone and you know you decide to interrupt them that is a um if you interrupt someone in in inappropriately that is a failure of the prefrontal cortex because a prefrontal cortex um is responsible for self-censorship so that you can behave in polite society but then the actual task of speaking goes out through the basal ganglia where it says i'm going to select this task or i'm going to switch to a new task i'm summarizing if you're a neuroscientist i probably got some of this wrong but in general this is this is good enough for understanding where we're going from here um other things are like planning and strategizing we can think very far into the future in fact human time horizon of thought is many orders of magnitude above most other animals with very few exceptions i think i think elephants and some birds can think pretty far ahead but in the in some cases it's like okay is that instinct like are they actually planning um but you know like uh elephants can as a herd kind of collectively decide like where to go um and you know like say for instance there's a drought they can remember like okay we got to get back to where there's water and we know that there's water you know 160 miles in that direction granted elephants can also travel like 40 miles a day so that's only four days out ahead humans however we can think years decades um centuries into the future um just just having that that mental concept of that of that temporal scale is completely unique to humans um we can also anticipate and predict now the ability to anticipate and predict things is not unique to humans however the kinds of things that we can anticipate and predict are so for instance we can anticipate or predict if you like say for instance you learn well enough you can look at a weather map and you can predict you know the weather a week in advance animals can't do that we can also anticipate or predict how humans are going to react right because humans are complex agents and so the more you know someone or the more that you're familiar with with human thought and human behavior you can say okay if i do x to this person i'm going to get y response so that's what i mean by anticipating and predicting and then there's morality and ethics this is obviously a big thing for agi um or artificial intelligence especially if we assume that machines are going to become smarter than us one day and and we assume that we will lose control of them so i know that uh many people think oh well they're just all you know just give it an off switch we must assume that we will lose access to the off switch one day um it's just you know you build something that's smarter than you um it will out thank you it will outpace you uh that is just kind of an inevitability um and so yes that sounds scary but um i'm not i'm not worried about it because this is my this this is my jam this is what i focus on is making sure that we have a benevolent machines that aren't going to kill us or do other unwanted things okay so why take these functional domains and do it as microservices we can update the machine as we go it can be a plug and play architecture just like facebook amazon netflix are so that the the machine can keep going you can improve microservices individually but you can also make sure that those microservices are super robust that they're not going to fail and again you can add and remove microservices arbitrarily again that is that plug-and-play architecture um so maragi maragi is something that i worked on have worked on and i am now revisiting now that um i have a strong enough understanding of both neuroscience and how to model all of this so this is this is what my most recent videos have been about is creating those microservices to create a fully fledged excuse me autonomous uh artificial cognitive entity so maragi means microservices architecture for robotics and artificial general intelligence okay so that's why i'm obsessed with microservices is because i see microservices as as treating the brain like a system rather than a monolith moragi i invented it in july 2018 i went and found my original diagrams so it is four years old this month um it was originally some of the original experiments i did were with amqp which is advanced message queue protocol it is a way to have computer components talk to each other very fast um and then i also experimented with rest i've settled on rest um because it does it doesn't require a broker so amqp requires a broker but rest allows things to talk directly uh with each other um it was also originally multimodal where i would have like one service that would like take pictures and send pictures and then another that would take audio clips and send audio clips i've done away with that as since i wrote natural language cognitive architecture i realized that um that once you get into the core thought module of a brain of an artificial cognitive entity that it should you should have one modality and i chose natural language because it is interpretable and transparent um i did not have the nexus figured out i did not have the core objective functions and i did not have cognitive control figured out so there was a lot of problems when i first came up with muragi and all of them have been solved so here's some of the original diagrams so this logo is what i made i knew intuitively that there was got to be some kind of central core i had no idea what that was going to be i thought that it would be a database of some kind something that would organize it but now i realize there's a little bit more here you see a diagram that it's more distributed and there's kind of no structure where every component talks to every other component it's much more organized than that today and i'll show you the latest diagram of meragi in a second but this is these are both circa july 2018 when i first came up with the idea let's see so this is meraki today and i've shown i've shown some some diagrams of this so we've got the nexus which you you'll notice there's some similarities right so there's something in the center that everything orbits around and in this case it's the nexus and then there is some cross communication with the other things but primarily everything communicates um via the nexus so you've got a hub and spoke model of of artificial cognition today and so this is a functional model this is also a thought first model so the nexus houses the stream of consciousness for this machine and so you could basically say that um the nexus is the conscious component although that's not necessarily uh that's going to be a misnomer because people you know i can already hear people saying like you're building a conscious machine it is functionally conscious not phenomenally conscious not philosophically conscious it's just this is this is it's meant to model or emulate the human stream of consciousness and then all these other services would be the unconscious mind or whatever um let's see and then oh that's it okay so this is moragi today now you're up to speed on microservices and uh meragi and what i'm doing and why so thanks for watching like and subscribe and consider supporting me on patreon and that's that