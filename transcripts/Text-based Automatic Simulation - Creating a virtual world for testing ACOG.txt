morning everybody david shapiro here um we've got a new video so um if you kept up with my work you know that one of my primary purpose is to research and produce artificial cognition or an artificial cognitive entity i prefer this term over agi because artificial general intelligence is just three adjectives um it's not an actual thing whereas an artificial cognitive entity is a thing it's describing the actual result so i want to create something that thinks now in order to have something that thinks you need input you need a world in which to act um well ideally you can have cogitation in a vacuum and i've done plenty of experiments with that but i also recently published the video about my nexus which is the kind of the brain the central brain or the memory of an artificial cognitive entity so the next step is to produce the input now because this is testing i need a simulated environment and since it thinks in natural language i don't need actual video and audio i can run the simulation in video and so that's what i'm working on today so let me show you what i've done so first i started with a world state so in this case the world state is two men are sitting in a stone at a stone chest tape sorry stone chest table i actually stopped stuttering if you watch some of my original videos i had a i had a stutter sometimes i wonder if i was just nervous comes back every now and then anyways they're playing chess the sun is shining etc etc so then i fed that into a prompt where it says this is a text-based simulation giving given the following world state imagine a likely a random event describe the event in one or two sentences and so then it spits out an event and then we take that we take that state and event and plop it into this prompt which says generate a new world state or measure the impact that it has in the world state and then finally i take all three of those and say summarize this into a new world state i might have to remove detail because the summaries kept getting longer and longer as more stuff happened whereas we can actually exclude information as we move forward now all of this can be fine-tuned which i'll probably do once i generate some synthetic data and clean it up but the idea here is that we have you have state event and change so the state is like describe you know take a picture describe it the event or action is what happens in the world and so in this case i need to be able to integrate that event or action because in the simulation environment my acog is going to have to be able to act it's going to have to be able to say something or do something so that we can test it in isolation and yes i'm actually talking about testing an artificial general intelligence in a text-based simulation that's what's happening this is this is where we're at um and then so you have current state then you have an event or action then you have the impact that that has on the world like if i throw my mug like current world state mug is whole you know i'm in my office i throw my mug that's an event and then the you know the the event or action is mug is tossed it breaks on the floor and now there's you know pieces on the floor so the new world state is the mug is broken and the pieces are on the floor um but the rest of it is also still true so that is the goal here so there's basically three phases state event change and then recycle state event change so it's just those three steps over and over again so i wrote a really quick little script to do this um so first it's just an infinite loop says while true load the last world state oh i need to show you i saved the world states here and then also every gpt3 interaction is logged here this is all open source you're welcome to use this you can use it for games you can use it for simulation you can use it to test chat bots you can use it to test digital robots whatever you want to do um the there's there's more so ultimately this is going to be encapsulated into a microservice so the microservice is going to have to communicate with the acog nexus so it'll basically take the place of the eyes and ears of um of my acog experiment so it'll say it'll have to keep track of its own world state and then the summaries that it produces are going to be the natural language this is what's going on in the outside world react to it um and so you know you can imagine any kind of world state you can say the world state is you know the the world plunges into chaos because of zombies right and gpt3 is really good at writing fiction and then one other advantage is that you have a log of all these world states that you can extract information from but this will also end up in the nexus of the acog so it'll actually remember everything that it has seen seen and heard right so we're simulating senses and we're simulating a world state um yeah okay sorry i was going over the script um so file equals os lister let me zoom in a little bit more um so it just loads the last world state um that's what it does right here then it generates an event so that's the first prompt generate an event um and then it'll print it out and then it'll take that and and generate the new state um and really it's not a new state it's it's measuring the change like what impact has this had and then it'll do the summary um and so that's all it does is then it prints it all out to the console and then saves it that's it so let me show you um so i already ran it once so i started with the original whoops i started with the original world state here where it's just two guys are playing chess this is hilarious um two guys are playing chess one of the men loses his chess piece becomes frustrated and knocks over the chess board so he you know rage rage quits um state change the two men are still sitting at the stone table one of the men has knocked over the chessboard in frustration the sun is still shining and the birds are still singing etc etc um so the new world state the two men are sitting in a ch at a stone chest table they're playing chess um so you see where it's like they're actually not playing chess anymore so i didn't need to do a little bit of testing um but here it says um you know one becomes frustrated knocks over the other man remains calm so it made that inference um one of them actually looks like it's repeating itself um so i will probably change the summary so instead of detailed summary we'll say concise summary since every previous world state is saved we don't need we don't need to have the whole thing so we'll just do concise summary so that'll keep it that'll keep it from ballooning because you'll see what happens as we go so event so this is the new event right so this is the new world state so it says the two men get into a heated argument and start to yell at each other that's a likely next step if you know you're having a game of chess and someone rage quits you might get upset um so the the the new the state change um the two men are still sitting at the stone table but they are no longer playing chess see it has updated the world state and as you're reading this you can follow along now another thing that can happen is that you could also use this for planning video games you could use this to write fiction it's just a matter of does it have enough information background information to keep things going if you summarize the world state fully enough or have a way of recall which we'll talk about recall in another video um so anyways so you know one of the men has knocked over the chessboard etc etc um so they're doing this here's the new state it's getting longer and longer um event the two men continue to argue and start to physically fight so you see here the event is much longer um but it's it's also very very repetitive [Music] so we need to maybe do some prompt engineering on the event because the event is supposed to be one or two sentences total so let's take a look at the event prompt this is a text based simulation giving the following world state imagine a likely or random event describe the event in one or two sentences okay that should work okay whatever um if we one thing when you have prompt chaining like this or prompt stacking you can get really interesting effects compounding effects um so i'm only going to change one thing at a time i changed it from from detailed summary to concise summary that might be enough to prevent it from snowballing because you see that's what's happening here is it's snowballing it's everything is getting longer and longer and longer now so this is a hilarious state change the two men are still fighting the man who was losing the fight is now lying on the ground unconscious the sun is still shining and the birds are still singing etc etc okay so let's take a look at what the last world state was um okay so there we go the two men are now arguing with each other and yelling so let's go ahead and we made one change so let's do a clear screen and let's let the simulation run it's going slow right now i'm not sure if it's something i've done in my code or if gpt3 is just running slow right now event the two men continue to argue and eventually get into a physical altercation they start to push and shove each other etc etc all right the state changed the two men are still sitting at the stone chest table they're no longer playing chess and they're now fighting they're both bleeding and their clothes are ripped that's fun um it's interesting it still says they're sitting at a stone chest table but they're not the two men are arrested by the police two men are sitting in a jail cell they're both bleeding and their clothes are ripped um let's see have black eyes and bruises are taken to the hospital for their injuries nice um they're going to jail um let's see it looks like it's a little bit kind of stuck on repeat so the concise thing might have oh the two men are released from jail after posting bail oh that's great the story advances um let's see they posted bail again find in order to stay away from each other there we go okay so it looks like the the concise summary is confusing and it's getting stuck on repeat oh they filed a restraining order this the plot advances again this is great um okay so um the event is fine it seems like it seems like the concise summary is is removing too much information um so what it happens if we just do summary so detailed summary is like long summary and concise summary is short summary so what if we just do like summary all right and so also remember it picks up where it left off so the last world state the men are arrested for disorderly conduct for after getting into a fist fight they have black eyes the men are released from jail they're both fine in order to stay away from each other so that's where the story left off so let's continue the story okay we already know that there it seems like it seems like we lost too much information if they get into another fist fight okay and now it looks like it's being very repetitive okay i think i think the problem i think i i think i created more problems than i solved when i removed the detailed summary um detailed summary because when you lose that context that's i think that's what's making it get stuck on repeat um uh but we need it to be less repetitive um [Music] and we need it we need each phase to be less repetitive um i wonder if we can uh we can just say like rewrite like have a have a another prompt that says that it's just kind of a generic like rewrite the following to be less repetitive um if there are any repetitions um let me try that real quick let me go back uh see what's the longest one here we go all right so then we'll go to playground what is that um let's see rewrite the following passage to remove repetitiveness is that how you spell that um passage um remove repetition um move repetitiveness whoops um if present yeah because it says like children are still running and playing um in the distance yeah it didn't it didn't actually remove repetition ah let's see i wonder if what if i just say remove repetitiveness remove repetition if present we're on temperature 0.7 so it's allowed to be creative yeah okay i need to do a little bit more let me do a time check we're at 14 minutes okay i'm trying to keep it to 30 minutes um [Music] yeah so this is a good example of like we need to summarize this as like the new world state right um i wonder if we can oh i got an idea i got an idea so the event that's fine the state change um so let's let's change this from new state um to change uh let's see so we'll say it's state change um given the following world state and event advance the world state now um let's say describe the state change in detail um detail what has changed in the world state i wonder if that will be good um okay so and then let's also change the name of that um because we need we need to kind of go ahead and fix this so it'll be event change and then we'll call this state and that'll say no we'll leave that so the reason i'm doing that now is because you want to you want to keep everything nice and consistent so because we've got event change and state right we've got those three things and so we'll true up so we've got event change and state see that's that's the names that i gave it so we'll make sure that we've got got them in the same here event change and state and then we also got to change this so change and state actually let me go ahead and do a get status get add you get commit am stashing work in case i break it bad push um [Music] i know you're not supposed to use git well i guess git is version control so i had something that's working so now it's time to experiment um okay so we got the event this seems like it's okay um sometimes it gets a little bit long but that's okay uh so world state state change um and then we say uh so then we'll instead of this we'll say um state change so we'll change the name of that and then we'll say um write a new world state um and complete um the same no describe the new world state um completely and so then we'll say new world state and actually we can probably just call this like change um because i don't i don't want to confuse it because i want to say like world state and new world state and if i do state change that might confuse it because it's like oh because you know sometimes it was describing the same thing twice um where like the event and then the change would be nearly identical so we don't want that okay write a new world state describe the world new world state completely and this would absolutely benefit from fine tuning so i might do that offline and then do another video showing like fine-tuning a world simulator um okay let's test this i think this is good enough python test make sure i didn't break anything the men get into another fist fight they're ordered to stay away from each other looks like it's doing the same damn thing oh okay i wonder if if it's kind of stuck in a loop because i made it too concise um so here's what i'll do i'll do we'll do a folder call it backup and we'll go here and we'll just take everything after that long one and we'll move it over to backup so now we'll start with a larger world state so that we can see what it does if it's got more detail because what i think is happening is that it's it doesn't have enough um write a detailed new world state describe the new world state completely okay so let's try this because i want it to actually like be generative be very creative okay event there we go change okay he talks to a young woman standing next to a young woman on the bench okay it seems like it's still kind of becoming more and more concise okay that's not how i want you to behave let's come here and turn up the temperature um because i'm wondering if the low temperature is causing it to kind of like just i don't know give me just a little bit um so the event um state change um let's see given the following action event describe um actually no let's describe the impact um describe the impact in detail write a thorough explanation of what has changed in the world and then we'll just take that and call it change this is a text based simulation this is a text based simulation oh let's add that back in i wonder if this helps this is the text based simulation right in detailed world state um let's see this might be too short given the world state event and change um let's see simulate a new world uh uh let's see simulate a new world actually no we'll say describe the new world state in great detail uh let's see describe the new world state in great detail and then um well that's that's fine we changed we changed quite a bit okay so we've got state event change world state event change new world state so let's try that cls the woman returns the bench and sits next to the man since the woman oh there we go it seems the two of them have reconciled this is a change from the previous world state oh good good good sitting next to man the man looks happy to have her near him the woman and the man smile and hold hands okay that was quick um this world state is still not quite a loving embrace okay it's just assuming that they were lovers or something this is starting to look a little bit more like um uh this is starting to look a little bit more like dungeon um what is it ai dungeon so it's just confabulating stuff and it's not keeping track of stuff they share a long passion okay this is getting a little r-rated um hmm so this world state is not keeping track enough of what was going on in the past um yeah because if we look at the state like it's it's only it's describing it too succinctly um it's almost like i still need to it's almost like we need to we need to kind of keep something well no because this prompt state should it should merge everything together um retain relevant details from the original world state such that the new world state um still makes sense and contains necessary context oh let's try that and we'll go in here and delete these uh these the steamy romance scene and do a quick time check as well 24 minutes all right we'll call it we'll call it soon because but you get the idea all right things quickly escalate they start to yell and the situation becomes heated that's good the sun is shining yep change the two men are still sitting at the stone table they're no longer one of those knocked over the board um now arguing and yelling they get into a physical altercation start punching and slapping each other and continue to fight and a brutal fist fight slamming other into the concrete wow this escalated fastly or fastly quickly um [Music] just heaving rage still in his eyes knocked unconscious in a brutal fist fight okay so the state looks a little better a police officer runs over and restrains the victor reading him as miranda writes that's good okay now because i need to make sure i i think this is good enough for now but there's one thing i just i feel like the current state it's losing the context so i feel like there i probably still need to do something about summarizing everything that has happened up until this point and keeping that in context um taking away an ambulance the chessboard is ruined still it's it's definitely keeping kind of a somewhat coherent story going um all right i'll call that a day um this is this is a mild success and uh thanks for watching like and subscribe also i think i'm going to do my first live stream tonight i'm just at uh almost at a thousand subscribers so i'll do a live stream and i'll try that as a new format for the podcast so again thanks for watching like and subscribe and consider supporting me on patreon