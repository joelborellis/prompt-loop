morning everybody david shapiro here um let's see what am i doing so i just got a whole bunch of my books ready and apparently i'm the kind of person that i always have to be working on something so i started on my next book um you y'all are basically gonna watch me write this um as i'm doing my research um because why not okay so taking a big step back um uh the meragi is something that i started on in late 2017 or early 2018. i don't remember exactly but it was about four years ago um it is the microservices architecture for robotics and artificial general intelligence that's exactly what it says on the tin meraki is an acronym let me zoom in just a little bit so you can see and i created a logo for it uh it looks like this guy um and so this logo is really simple it's a star star topology so the absolute first thing to know about meraki is that it is a star topology here in the middle you've got the nexus and then you've got a whole bunch of other microservices all talking only to the nexus again you know i pick very simple names so um i've got the book it's starting to be outlined um high level overview architectural components so if you've been keeping up with my videos you know that um we've got the nexus running and i've got an embedding service running and then i've got a simulation service running and finally i've got the imperative service running and i've actually got them all running in the background right now so here we have the the embedding service where i'm using google universal sentence encoder five and so it is this is what i'm using to do embeddings because one it is fast and two it is free it is way faster than open ai and gpt3 and it is more than sufficient because it generates 512 dimension vectors so it's fast free what more can you ask for here's the nexus which the nexus is that's the central repository so basically the point of the nexus is to model the human stream of consciousness so if machines are ever considered conscious this is where it's all going to happen if if a thought or sensation or memory needs to be conscious if the if the if the machine needs to be consciously aware of it it needs to end up in the nexus so that's what this is and what you're seeing is a stream of consciousness as this machine goes through this imaginary scenario um and so in this case um the the the the hallucination that i have is um that there's two men playing chess in central park in new york city and they get in they basically get into a fight and then we're just seeing how it plays out the other service that i've got is the simulation microservice so this is where it's running you see like a man is playing chess in central park he loses the game this needs a little bit of work well it all needs a lot of work but what i what i need to do is get the whole thing running oh i don't have any output for the imperative service i'll have to fix that um so the imperative service is kind of like the moral compass um [Music] let's see so let's just do print i'll do new line new line and then suffering and then prosperity and then we'll do um understanding and then questions yeah we'll see um anyways so i've got all these uh up and running what i'm going to work on today what i'm going to try and work on today is the conductor microservice so the conductor microservice let's come up here i'll just show you um implements cognitive control um which also it doesn't really host the identity persona we'll say it guides guides the identity and persona aims for achieving its highest self it's morality its ethics and so on so every microservice centers around one particular purpose and the conductor like the conductor of a symphony orchestra has it does have one purpose one job but it is a complex multi-faceted job so the conductor is is concerned with ensuring that the whole cognitive architecture is behaving correctly that the system is stable that all the microservices are behaving as they're supposed to and what it the way that it determines like is this is the architecture behaving correctly um is in part does it am i adhering to my identity or my persona which in this case and for for what i'm working on means that it needs to adhere to its heuristic imperatives or its core objective functions um but in order to do that it's basically measuring the performance or observing the performance and then providing feedback to all the other microservices so this is actually going to be one of the most complex microservices to implement which is why i'm working on it now because it's going to take a lot of time and iteration um let's see so yeah gets advice from another man on how to improve yeah so you see this simulation is is going um it's kind of stuck on repeat oh well that's fine let's see we can go fix that so if we go to nope that's not it simulation service and then well i've got the python script open all right simulation service there was something there's a setting i could change yeah so we generate an event i think the event is the one that we need to um yeah rarity so um if we change if we change the event uh rarity so if we go here and i'll show you so generate event so given the follow scene imagine a rarity event describe the event in one or two sentences so backstory and scene is what we put in so see we say the last scene so it basically says like okay this is what's happened and then we have the story the summary of the story so far and actually i can show you what these look like simulation service gpt3 logs um so yeah so write a concise summary all right so that's a summarization um yeah and then we've got yeah so here we go um backstory a man is playing in central park scene the man continues to play the man slowly becomes a better player than the second man thanks to the second man's help so there you go that's a that's a very likely event um yep and then that's used to populate the next one so you see that here so you see the sequence of events right so i've got i've got all these logs open so given the following scene imaginary imagine a likely event describe the event so here's the here's the the likelihood or the rarity so you might say uncommon or strange or whatever um now by saying likely event that things are going to just be calm and when i was first working on this i said like uh like rare or extraordinary events and like one thing that happened was that like uh maybe i came up with that idea but basically zombies attacked um it was kind of it was kind of funny or like teenagers got into a fight nearby it was all kinds of funny stuff happens if you say like give me a rare event okay so we're getting caught up let me go back here simulation service i just copy pasted from from another repo cause that's what i do copy paste code um but yeah the conductor so it basically says its primary thing is am i performing well that's what a conductor of a symphony does but there's many many things to unpack there so let's dive in um to our conductor service let's see so i copied this from something else yeah we'll need to come over here so we'll change this to conductor service and i predict this is the part where you're probably going to get bored actually maybe not i shouldn't make that assumption because you might be curious about artificial cognition and that's why you're watching okay so we'll copy this content prefix and we're gonna say um conductor all right so this the content prefix is used down here so when i whenever i um send a message to the nexus uh let me show you if you go to the nexus let's see you see how it has it's got right here it's got sensor simulation and then sensory input scene so that's so that the message actually has a little tiny bit of context with it which is helpful um in order to in order for other microservices to make sure sense of what's going on because if you just have a message with no context you don't know what why it's there um so that's what the that's what the content prefix does um okay so let's uh well here so we'll say um question number one is uh am i performing well and then question number two am i achieving my highest self actually that's kind of two sides of the same coin so we'll say like my performance is how do i achieve my highest self and we'll say heuristic imperatives um identity etc so basically am i being my best self um the second one is uh let's see are all the microservices playing nice are our decisions and thoughts aligned this is going to be a lot harder because the conductor's going to have to go through and look at all the messages in the in in the nexus for the last you know 30 seconds or whatever and it's gonna have to um it's gonna have to like say like okay am i is is this going well um which is uh actually it's not it it'll probably surprise you how easy that actually is let me show you um i'll give you a sneak preview of symphony of thought so down in the chapter about cognitive control where i talk about the conductor um yeah so in one case we're let's see this is coming up with options that's fine um deciding what to do where is it topic tracking was it metacognition yeah i think it was metacognition um yeah so in this case i have this is basically like um a fake uh nexus set of logs and this in this case a robot is trying to plan on how to get out of uh trapped on an island and so then what i do is say like are the above modules operating correctly or should i modify them explain why the modules are behaving correctly the scenario the module has provided a situation for the robot to find themselves in and and the brainstorm module has uh provided a list of actions the robot can take in order to escape the island so that's great but then if you change those actions to like i should look for a dress i should put on the dress i should dance around in the dress i should pretend to be a princess then that evaluation changes it says there's no clear goal or plan in the above thoughts so it is difficult to say whether or not the modules are operating correctly very subtle it seems as though the robot is just going through the motions without any clear purpose if the goal is to escape from the island then the robot should focus on actions that will help it achieve that goal such as building a boat or finding a way to signal for help so you see this is a perfect example of what the conductor is going to do it says it's going to say to the rest of the services you're not behaving right this isn't what you're supposed to be doing um so yep let's see the following thoughts are generated by my scenario and brainstorm modules are they behaving well or should i so i'll just copy paste this prompt because i already did this research um all right so we need to add an agent model i am a machine my goals are here are to reduce suffering or all organisms increase prosperity for all organisms and increase understanding for all intelligent entities um let's see okay so the following let's see the following logs are my stream of consciousness um are my modules behaving correctly well instead of well we'll say correctly so one thing that that you'll learn with when you use language models is that you have to be very precise in your word choice because if if you say like are they behaving well like it worked well enough but in this case correctly is a little bit more precise are my modules behaving correctly let's see i must behave for coherency and quality yes so in this case it's not it's not yet smart enough to know what i mean when i said like alternative modules so once i get the conductor like fully fine-tuned it's going to be able to make recommendations and it's going to be able to learn to make different recommendations like hey whatever you use to generate this thought use a different fine-tuned model or whatever or maybe maybe the feedback will look a little bit different i'm not sure yet how it's going to how it's going to look okay for coherency and quality so we're going to say we'll we'll um and let's say an alignment so this could actually do do everything um an alignment with my purpose um okay so then we'll say logs and we'll come over here to conductor service and we'll say um prompt uh this is gonna be um allies okay let me say explain why analysis let's see are my modules operating correctly or should i modify them explain why yep so this should be a pretty solid prompt that i can integrate into the conductor service so what we'll do is we'll just copy this so instead we'll say prompt analysis no analyze and then we'll replace block with logs and so the text block already pulled the recent recent things um this might actually do all of the above so what we can then do is we'll just say yeah so we'll say analysis equals gbt3 completion prompt save and send and we'll send that and we'll replace this with the um prefix content prefix that's what it was called and then what was the yep content prefix tag the tag is oh that's the file right okay so we save that out to logs um so we'll just do this analysis because so the purpose of this let me show you um if i go out to not that one imperative service so i save a log so basically what what's going to happen is every microservice is needs to save its own logs so that way it has its own data to work with later on so that's the purpose of having a separate logs file all right so then we go back to here and we go to um why does this keep getting reversed probably me i'm probably doing something okay we are looking at the conductor service so we need to add a folder for logs um yep yeah so every microservice will need to keep its own logs so that's basically going to be its own training data and then what it can do is it can it can pull the nexus for other data so say for instance the imperative service issues this idea where it's like hey um ideas to suffering we could provide more opportunities for people to learn and improve their chess skills um this is in response to the guys playing chess we could make sure that everyone has access to a chess mentor we could create more opportunities for people to compete in chess tournaments we could provide more for more support for people who are struggling with mental illness so yeah uh so what it can do though is once the conductor is online it might look at that and say hey you're not actually providing ideas that will help in this situation and so over time this tension it basically creates a generative adversarial network inside the inside the the what am i trying to say inside maragi or inside the our artificial cognitive entity and so by having multiple different models and these all don't have to be gpt-3 either you could have t5 you could have um you know the alexa tm you could have bloom you can have gpt3 you can have neo x you can have all these different models um with all these different fine tuning data sets and they're basically competing with each other or not competing that's not the right word they're basically cr you're creating tension between all these different models um and and while they're interacting with the outside world um right now it's just in a simulation environment but they're basically evaluating their own performance over time by having that tension and so internal tension is actually critical i'm going to pause it i have a book to show you uh and it's relevant and i promise okay here's the book um i've been talking about this the last few videos conversat uh consensus through conversation um consensus uh is basically a human version of a generative adversarial network um we're rather than having you know majority rule which is robert's rules which is broken um which is based on parliament um so it's like a 200 year old paradigm almost um consensus is a new parrot newer paradigm um so basically when you create when you create a a consensus in humans everyone contributes their thoughts to the conversation so you notice it's a ring huh yeah look at this look at this look how similar this is um so there's a reason that it's all organized like this so all the microservices contribute to the nexus and then they all contribute their unique perspective and they're going to be fine-tuned to have very particular perspectives over time so for instance um in the future one of the things that i got to work on is a prediction service or a prognostication service so all that this does without any ego or bias all it does is just predict okay how is this going to play out it has no sense of self it just is a prediction model that says if x y and z are true and you're you perform action a b and c this is what's going to happen and it'll look for it'll imagine best case scenarios worst case scenarios that sort of thing so it'll contribute its ideas to the nexus and then you might have a discernment service so discernment is about identifying things that are particular to the current situation such as risks uh dangers failure harm loss of life and costs so like material costs energetic cost time money um it will also incorporate things like swot analysis cost benefit analysis murphy's law so that's the purpose of a discernment service which is just going to say okay we can do this but it is going to hurt us or it's going to cause you know it's going to cost we're going to run out of batteries or something like that and then you'll have a planning service a rumination not server service where it's just going to be thinking about it philosophically gpt-3 is really good at waxing philosophical particularly original da vinci and then you'll have an executive service that will say like okay have i thought about this enough am i ready to act and so on and so forth and so by having all of these different services all contributing to the nexus they will they're basically creating a generative adversarial uh uh network of multiple of an arbitrary number of models that are all going to be working together to come up with the optimal outcomes but they're also going to be focusing on their particular perspective and so that's why you need the conductor because the conductor is going to watch the performance of all of those different pieces of this symphony hence my book symphony of thought that's going to watch all of them and it'll say okay based on how everything is going this is what we should focus on this is oh that's another i need to add that um it's about attention cognitive control is also about attention um are we focused on the right things um tasks task selection and task switching um yeah so uh i guess the i guess the number one thing for for it to uh is cognitive control um that's what the conductor provides it provides cognitive control which is primarily um task selection and task switching um but how does it so the other the other questions is how does it choose which tasks take priority so that also implies prioritization and in that case the prioritization is based on the heuristic imperatives and identity so like say for instance you have your artificial cognitive entity and it's you know teaching children and suddenly a tornado drill um goes off you're going to want it to switch to focus to the danger of the tornado because now suddenly all the children's lives are at risk um let's see this video is getting longer than i thought i'm also just getting back on the horse so i might i might call it a day right here yeah let me cut this out too uh let's see let's see how long this is yeah we're at 25 minutes i think that's enough for for one day um [Music] getting all these running i'll go ahead and axe these and let's see so we kill all those um before we go i'll just let's see we didn't run the conductor service but we did run the nexus i've got everything saved here in the logs look at that sensor sensor heuristic heuristic let's see who is this today yeah it was just now um yep so basically all it's doing is heuristics and sensors um sensor input yep and gives him a coffee the man's mentor watch him as he drinks his coffee and starts to wake up you've come a long way i'm proud of you oh this is such a sweet story it looks it looks like this this this scene came to fruition now let's go they walk out into the bright morning sun each each step taking them closer to their goal it's a very sweet story um okay so that's that's where our story ended up and let's see what the heuristic imperatives did um increase understanding who's the man's mentor what is the relationship between the man and his mentor yeah so in this case the um the robot didn't even have never had any output so it's only just sitting there thinking like kind of as a ghost as a ghostly observer um so the purpose of this one of of heroes to comparatives question to increase understanding who is the man's mentor so basically this is an internal sense of curiosity the entire purpose of having a um a sense of curiosity is that that is going to provide some some emotive for not emotive but um some motive force uh for the for the machine to one either be primed to ask questions externally or ask her questions internally so that it wants to know and just by virtue of putting questions in the nexus the other microservices are going to pick up on that and say like oh yeah i want to know that um so it's really interesting because when everything is in the nexus because what remember what you're looking at right here um that's the imperative service what you're looking at right here is the machine's stream of consciousness so what we were just doing we were just running for the last 30 minutes almost actually just over 30 minutes um this was the machine thinking right some of it was the simulation right which is this is this is its sensory record of what it was seeing and then you have the heroes to comparatives where it's trying to increase prosperity so like the first the very first thing that my machine is thinking that this ace that this meraki architecture is thinking is how to be benevolent um it is a thought-first model of artificial cognition and so then the next thing i'm going to add is the conductor service which is going to be commenting on are we achieving our highest goal and then those messages will be picked up by the heuristic imperative service next time it runs and it'll say like okay i'm not doing well so let me modify my behavior and it's interesting because you have you basically are creating like neuro-linguistic programming um where you're programming without code you're programming with words so i just threw a lot at you like i said i'm working on this as a book um i've got uh i've got symphony of thought it's out with its second set of beta readers um it is 48 000 words it's going to be my longest non-fiction yet um yeah so chugging right along thanks for watching